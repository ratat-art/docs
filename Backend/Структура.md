#архитектура #апи #сервер

Апи состоит из следующих элементов:
- Модель (данные о какой-либо сущности в структуре)
- Контроллер (класс, отслеживающий апи запросы)
- Форматтер (класс, формирующий апи ответы)
- Прерыватель (вызывает ошибки в случае неавторизации, спаме и прочем)
- Парсер (парсит запрос)
- Валидатор (валидирует параметры запроса)
- Сценарий (выполняет набор децствий)
- Действие (выполняет определённый алгоритм, не занимаясь валидацией)


Запрос попадает в контроллер, там выбирается нужный эндпоинт и вызывается метод в нём. В декораторе эндпоинта должен быть описан набор аргументов и их тип, чтобы запрос выполнился, а также состояния клиента (наличие сессии, авторизация, или свободный доступ)